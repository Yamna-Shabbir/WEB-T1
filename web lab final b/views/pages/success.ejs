<%
let itemsHtml = '';
order.items.forEach(item => {
  itemsHtml += `<li>${item.name} (x${item.quantity}) - $${item.price.toFixed(2)}</li>`;
});

let bodyContent = `
<div class="page-container" style="text-align: center; padding: 50px 20px;">
  
  <div style="font-size: 60px; color: #28a745; margin-bottom: 20px;">
    <i class="fa-solid fa-circle-check"></i>
  </div>

  <h1 class="mb-3">Order Placed Successfully!</h1>
  <p class="lead text-muted">Thank you for your purchase, ${order.customer.fullName}.</p>
  
  <div class="card mx-auto mt-4" style="max-width: 500px; text-align: left;">
    <div class="card-header">
      Order ID: <strong>${order._id}</strong>
    </div>
    <div class="card-body">
      <h5 class="card-title">Order Summary</h5>
      <ul class="mb-3">
        ${itemsHtml}
      </ul>
      <h4 class="text-primary text-end">Total Paid: $${order.total.toFixed(2)}</h4>
    </div>
  </div>

  <div class="mt-4">
    <a href="/shop" class="btn btn-primary btn-lg">Continue Shopping</a>
  </div>

</div>
`;
%>

<%- include('../layout', { 
  title: 'Order Success',
  page: 'home',
  body: bodyContent
}) %>